<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frost & Flour</title>
  <link rel="stylesheet" href="css/main.css">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
</head>
<body>
  <header class="header">
    <div class="header__container">
      <h1 class="logo">Frost & Flour</h1>
      <nav class="navigation">
        <ul>
          <li><a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
          <li><a href="constructor.html">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</a></li>
         
          <li><a href="my_cakes.html">–ú–æ—ó —Ç–æ—Ä—Ç–∏</a></li>

        </ul>
      </nav>
    </div>
  </header>



  <main class="main">
		<section class="main__header">
			<div class="container main__header--container">
				<div class="main__header-block">
					<h1 class="main__header-title">–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ –Ω–∞—à–æ–≥–æ<br> –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Ç–æ—Ä—Ç—ñ–≤!</h1>
      		<a href="constructor.html" class="main__header-button">–ü–æ—á–∞—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞—Ç–∏</a>
				</div>
				<img class="main__header-img" src="img/category-img-1.png" alt="">
			</div>
		</section>
		<section class="testimonials" id="testimonials">
			<div class="container">
				<div class="testimonials__heading">
					<div class="testimonials__title">
						<h2 class="title">–ö–∞—Ç–∞–ª–æ–≥</h2>
					</div>
					<div class="testimonials__subtitle">
						<p>
							–û–±–∏—Ä–∞–π—Ç–µ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏, —Å—Ç–≤–æ—Ä—é–π—Ç–µ —ñ–¥–µ–∞–ª—å–Ω–∏–π —Ç–æ—Ä—Ç —ñ —Ä–æ–±—ñ—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –æ–Ω–ª–∞–π–Ω!
						</p>
					</div>
				</div>
				<div id="photosContainer">
				  <div class="photo-card" data-id="1" data-name='–¢–æ—Ä—Ç "–ë–∞—Ä–∞–Ω—á–∏–∫"' data-weight="0.50" data-price="599.00" data-img="./img/cake.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/cake.jpg" alt="–¢–æ—Ä—Ç –ë–∞—Ä–∞–Ω—á–∏–∫" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–ë–∞—Ä–∞–Ω—á–∏–∫"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 0.50 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 599.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>
				
					<div class="photo-card" data-id="2" data-name='–¢–æ—Ä—Ç "–ú–∞–ª–∏–Ω–æ–≤–∏–π –æ–∫—Å–∞–º–∏—Ç"' data-weight="1.00" data-price="1300.00" data-img="./img/girl-cake.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/girl-cake.jpg" alt="www" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–ú–∞–ª–∏–Ω–æ–≤–∏–π –æ–∫—Å–∞–º–∏—Ç"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 1.0 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 1 300.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>
				
					<div class="photo-card" data-id="3" data-name='–¢–æ—Ä—Ç "–†–∞—Ñ–∞–µ–ª–ª–æ"' data-weight="0.70" data-price="1000.00" data-img="./img/white-cake.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/white-cake.jpg" alt="www" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–†–∞—Ñ–∞–µ–ª–ª–æ"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 0.70 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 1 000.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>
				
					<div class="photo-card" data-id="4" data-name='–¢–æ—Ä—Ç "–¢—Ä–æ–ø—ñ–∫–∞–Ω–æ"' data-weight="0.70" data-price="1100.00" data-img="./img/green-cake.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/green-cake.jpg" alt="www" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–¢—Ä–æ–ø—ñ–∫–∞–Ω–æ"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 0.70 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 1 100.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>
				
					<div class="photo-card" data-id="5" data-name='–¢–æ—Ä—Ç "–°–∏–Ω–µ–≤—ñ—Ä"' data-weight="0.70" data-price="1100.00" data-img="./img/blue-cake.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/blue-cake.jpg" alt="www" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–°–∏–Ω–µ–≤—ñ—Ä"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 0.70 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 1 100.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>

					<div class="photo-card" data-id="6" data-name='–¢–æ—Ä—Ç "–ß—ñ–Ω–∞–∑–µ—Å"' data-weight="0.70" data-price="1600.00" data-img="./img/chinazes.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/chinazes.jpg" alt="www" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–ß—ñ–Ω–∞–∑–µ—Å"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 0.70 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 1 600.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>

					<div class="photo-card" data-id="7" data-name='–¢–æ—Ä—Ç "–ß–æ—Ä–Ω–∏–π –ø—Ä–∏–Ω—Ü"' data-weight="0.70" data-price="900.00" data-img="./img/black-cake.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/black-cake.jpg" alt="www" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–ß–æ—Ä–Ω–∏–π –ø—Ä–∏–Ω—Ü"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 0.70 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 900.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>

					<div class="photo-card" data-id="8" data-name='–¢–æ—Ä—Ç "–í–µ—Å—ñ–ª—å–Ω–∏–π"' data-weight="0.70" data-price="1900.00" data-img="./img/wedding.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/wedding.jpg" alt="www" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–í–µ—Å—ñ–ª—å–Ω–∏–π"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 0.70 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 1900.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>

					<div class="photo-card" data-id="9" data-name='–¢–æ—Ä—Ç "–í–µ—Å—ñ–ª—å–Ω–∏–π"' data-weight="0.60" data-price="800.00" data-img="./img/black-cheez.jpg">
						<div class="photo-card-wrapper">
							<img src="./img/blue-cheez.jpg" alt="www" />
						</div>
						<div class="photo-card-body">
							<div class="photo-card-text">–¢–æ—Ä—Ç "–ß—ñ–∑–∫–µ–π–∫"</div>
							<div class="card-testimonial__title">–í–∞–≥–∞: 0.60 –∫–≥</div>
							<div class="photo-card-price">–í–∞—Ä—Ç—ñ—Å—Ç—å: 800.00 –≥—Ä–Ω</div>
							<div class="related__product-actions">
								<a href="#" class="related__cart-icon">üõí</a>
							</div>
						</div>
					</div>
				</div>

				
				<button id="open-cart-btn">
					<div id="cart-marker" class="cart-marker">üéÇ</div>
				üõí</button>
				
				<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω–∏ -->
				<div id="cart-modal">
					<div id="cart-content">
						<button class="close-modal" title="–ó–∞–∫—Ä–∏—Ç–∏">&times;</button>
						<h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
						<div id="cart-items"></div>
						<div id="cart-total"></div>
					</div>
				</div>
				
			</div>
			</div>
		</section>

  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2024 Frost & Flour –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
    </div>
  </footer>

	<script>
		// –û—Ç—Ä–∏–º—É—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
const cartMarker = document.getElementById('cart-marker'); // –ú–∞—Ä–∫–µ—Ä –¥–ª—è –∫–æ—Ä–∑–∏–Ω–∏
const openCartBtn = document.getElementById('open-cart-btn');
const cartModal = document.getElementById('cart-modal');
const closeModalBtn = cartModal.querySelector('.close-modal');
const cartItemsContainer = document.getElementById('cart-items');
const cartTotalContainer = document.getElementById('cart-total');

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É –∫–æ—Ä–∑–∏–Ω–∏
function renderCart() {
  let cart = JSON.parse(localStorage.getItem('cart')) || {};
  cartItemsContainer.innerHTML = '';
  cartTotalContainer.innerHTML = '';

  // –ü–æ–∫–∞–∑—É—î–º–æ –∞–±–æ –ø—Ä–∏—Ö–æ–≤—É—î–º–æ –º–∞—Ä–∫–µ—Ä –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ —î —Ç–æ–≤–∞—Ä–∏ –≤ –∫–æ—Ä–∑–∏–Ω—ñ
  if (Object.keys(cart).length > 0) {
    cartMarker.classList.add('show');  // –ü–æ–∫–∞–∑—É—î–º–æ –º–∞—Ä–∫–µ—Ä
  } else {
    cartMarker.classList.remove('show');  // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –º–∞—Ä–∫–µ—Ä
  }

  if (Object.keys(cart).length === 0) {
    cartItemsContainer.innerHTML = '<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ—Ä–æ–∂–Ω—è</p>';
    return;
  }

  let total = 0;
  for (const id in cart) {
    const item = cart[id];
    const itemTotal = item.price * item.quantity;
    total += itemTotal;

    const itemDiv = document.createElement('div');
    itemDiv.className = 'item';
    itemDiv.setAttribute('data-id', id);

    itemDiv.innerHTML = `
      <div class="item-left">
        <button class="remove-item">
          <i class="fas fa-trash-alt"></i>
        </button>
        <img src="${item.img}" alt="${item.name}" />
      </div>
      <div class="item-center">
        <strong>${item.name}</strong>
        <div class="details">
          <div>–ö—ñ–ª—å–∫—ñ—Å—Ç—å: ${item.quantity} —à—Ç</div>
          <div>–¶—ñ–Ω–∞: ${item.price} –≥—Ä–Ω/—à—Ç</div>
        </div>
        <div class="price">–í—Å—å–æ–≥–æ: ${itemTotal.toFixed(2)} –≥—Ä–Ω</div>
      </div>
      <div class="item-right">
        <button class="decrease-qty">-</button>
        <button class="increase-qty">+</button>
      </div>
    `;
    cartItemsContainer.appendChild(itemDiv);
  }

  cartTotalContainer.innerHTML = `<hr><strong>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: ${total.toFixed(2)} –≥—Ä–Ω</strong>`;

  // –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ –≤ –∫–æ—Ä–∑–∏–Ω—ñ
  cartItemsContainer.querySelectorAll('.decrease-qty').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const itemDiv = e.target.closest('.item');
      const id = itemDiv.getAttribute('data-id');
      if (cart[id].quantity > 1) {
        cart[id].quantity -= 1;
      } else {
        delete cart[id];
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    });
  });

  cartItemsContainer.querySelectorAll('.increase-qty').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const itemDiv = e.target.closest('.item');
      const id = itemDiv.getAttribute('data-id');
      cart[id].quantity += 1;
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    });
  });

  cartItemsContainer.querySelectorAll('.remove-item').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const itemDiv = e.target.closest('.item');
      const id = itemDiv.getAttribute('data-id');
      delete cart[id];
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    });
  });
}

// –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –≤ –∫–æ—Ä–∑–∏–Ω—É –ø–æ –∫–Ω–æ–ø—Ü—ñ üõí –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ
document.querySelectorAll('.related__cart-icon').forEach(button => {
  button.addEventListener('click', function(e) {
    e.preventDefault();

    const card = this.closest('.photo-card');
    const productId = card.getAttribute('data-id');
    const product = {
      id: productId,
      name: card.getAttribute('data-name'),
      weight: card.getAttribute('data-weight'),
      price: parseFloat(card.getAttribute('data-price').replace(/\s/g, '')),
      img: card.getAttribute('data-img') // –î–æ–¥–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    };

    let cart = JSON.parse(localStorage.getItem('cart')) || {};

    if (cart[productId]) {
      alert(`–¢–æ–≤–∞—Ä "${product.name}" –≤–∂–µ –≤ –∫–æ—Ä–∑–∏–Ω—ñ`);
    } else {
      cart[productId] = {...product, quantity: 1};
      alert(`–¢–æ–≤–∞—Ä "${product.name}" –¥–æ–¥–∞–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É`);
    }

    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
  });
});

// –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
openCartBtn.addEventListener('click', () => {
  renderCart();
  cartModal.classList.add('active');
});

// –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
closeModalBtn.addEventListener('click', () => {
  cartModal.classList.remove('active');
});

// –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–∫–∏ –ø–æ –∫–ª—ñ–∫—É –ø–æ–∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
cartModal.addEventListener('click', (e) => {
  if (e.target === cartModal) {
    cartModal.classList.remove('active');
  }
});

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ—Ä–∑–∏–Ω–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
window.addEventListener('load', () => {
  renderCart(); // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —Ç–æ–≤–∞—Ä–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
});

	</script>
</body>
</html>
